{% extends "admin_base.html" %}

{% load widget_tweaks %}

{% block content %}
<h1>Edit Permission</h1>

	<form action="{% url 'edit_recordtypes_perm' admin_id=admin.id researcher_id=researcher.id %}" method="post">
		{% csrf_token %}

		<table class="table -center">
			<tr>
				<th scope="col">Researcher</th>
				<td>{{ researcher.get_username }}</td>
			</tr>

			<tr>
				<th scope="col">{{ form.recordtypesperm.label_tag }}</th>
				<td>
					{% render_field form.recordtypesperm %}

					{% if form.errors %}
					    {% for field in form %}
					        {% for error in field.errors %}
					            <div class="alert alert-danger">
					                <strong>{{ error | escape }}</strong>
					            </div>
					        {% endfor %}
					    {% endfor %}
					{% endif %}
				</td>
			</tr>
		</table>
		{% if form.errors %}
			{% for error in form.non_field_errors %}
				<div class="alert alert-danger">
					<strong>{{ error | escape }}</strong>
				</div>
			{% endfor %}
		{% endif %}

		<button type="submit" id="btn_submit_editperm" name="btn_submit" class="btn btn-primary">Submit</button>
		<a href="{% url 'show_all_researchers' admin_id=admin.id %}"><button type="button" name="btn_cancel" class="btn btn-secondary">Back</button></a>
	</form>
{% endblock %}